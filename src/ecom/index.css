/* Styles spÃ©cifiques au module E-commerce Cockpit */
/* Import de Tailwind CSS (dÃ©jÃ  configurÃ© dans le projet principal) */

/* Variables CSS pour le thÃ¨me e-commerce */
:root {
  --ecom-primary: #3b82f6;
  --ecom-primary-dark: #2563eb;
  --ecom-secondary: #10b981;
  --ecom-danger: #ef4444;
  --ecom-warning: #f59e0b;
  --ecom-info: #6366f1;
  --ecom-success: #22c55e;

  --ecom-gray-50: #f9fafb;
  --ecom-gray-100: #f3f4f6;
  --ecom-gray-200: #e5e7eb;
  --ecom-gray-300: #d1d5db;
  --ecom-gray-400: #9ca3af;
  --ecom-gray-500: #6b7280;
  --ecom-gray-600: #4b5563;
  --ecom-gray-700: #374151;
  --ecom-gray-800: #1f2937;
  --ecom-gray-900: #111827;
}

/* ğŸ†• Optimisations Mobile */
/* Safe areas pour les mobiles modernes (iPhone X+, Dynamic Island) */
.safe-area-top {
  padding-top: env(safe-area-inset-top);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

.safe-area-left {
  padding-left: env(safe-area-inset-left);
}

.safe-area-right {
  padding-right: env(safe-area-inset-right);
}

.safe-area-all {
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}

/* Navigation fixe en bas: ajouter la home bar de l'iPhone sous les boutons */
.pb-safe {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

/* Hauteur totale correcte sur iOS Safari (Ã©vite le bug 100vh) */
.h-dvh {
  height: 100dvh;
}

.min-h-dvh {
  min-height: 100dvh;
}

/* Contenu principal: dÃ©caler vers le bas pour le Dynamic Island */
.pt-safe {
  padding-top: env(safe-area-inset-top, 0px);
}

/* Padding pour le header fixe mobile (hauteur header + safe area) */
.pt-safe-header {
  padding-top: calc(env(safe-area-inset-top, 0px) + 4rem);
}

/* Barre de nav fixe en bas: hauteur + home indicator */
.bottom-nav-safe {
  padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 2px);
}

/* Contenu scrollable: ne pas Ãªtre cachÃ© sous la nav bottom */
.content-with-bottom-nav {
  padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 64px);
}

/* Padding bottom = nav (56px tab bar) + home indicator iPhone (safe-area) */
.pb-safe-nav {
  padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 5.5rem);
}

/* ğŸ†• Optimisations pour le tactile sur mobile */
@media (max-width: 768px) {

  /* Boutons plus grands pour le tactile */
  .ecom-mobile-button {
    min-height: 44px;
    min-width: 44px;
    padding: 12px 16px;
  }

  /* Espaces entre les Ã©lÃ©ments cliquables */
  .ecom-mobile-spacing>* {
    margin-bottom: 12px;
  }

  /* Textes plus lisibles sur mobile */
  .ecom-mobile-text {
    font-size: 16px;
    line-height: 1.5;
  }

  /* Scroll optimisÃ© pour mobile */
  .ecom-mobile-scroll {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  /* Input optimisÃ©s pour mobile */
  .ecom-mobile-input {
    font-size: 16px;
    /* Ã‰vite le zoom sur iOS */
    padding: 12px 16px;
    border-radius: 8px;
  }

  /* Cards optimisÃ©es pour mobile */
  .ecom-mobile-card {
    margin: 8px;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  /* Tableaux optimisÃ©s pour mobile */
  .ecom-mobile-table {
    font-size: 14px;
  }

  .ecom-mobile-table th,
  .ecom-mobile-table td {
    padding: 8px 4px;
    white-space: nowrap;
  }

  /* Navigation mobile optimisÃ©e */
  .ecom-mobile-nav {
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  /* Animations plus fluides sur mobile */
  .ecom-mobile-transition {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Conteneur optimisÃ© pour mobile */
  .ecom-mobile-container {
    max-width: 100%;
    padding: 0 16px;
    overflow-x: hidden;
  }

  /* Grilles optimisÃ©es pour mobile */
  .ecom-mobile-grid {
    display: grid;
    gap: 12px;
    grid-template-columns: 1fr;
  }

  @media (min-width: 640px) {
    .ecom-mobile-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
}

/* ğŸ†• Performance mobile */
/* RÃ©duire les animations sur les appareils bas de gamme */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ğŸ†• Mode sombre pour mobile (optionnel) */
@media (max-width: 768px) and (prefers-color-scheme: dark) {
  .ecom-mobile-dark {
    background-color: #1a1a1a;
    color: #ffffff;
  }
}

/* Reset et base */
.ecom-app * {
  box-sizing: border-box;
}

.ecom-app {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Animations */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

@keyframes pulse {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.5;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideIn {
  from {
    transform: translateX(-100%);
  }

  to {
    transform: translateX(0);
  }
}

/* iOS-style animations */
@keyframes iosSlideUp {
  from {
    transform: translateY(100%);
    opacity: 0.5;
  }

  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes iosFadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

.ios-slide-up {
  animation: iosSlideUp 0.35s cubic-bezier(0.32, 0.72, 0, 1) forwards;
}

.ios-fade-in {
  animation: iosFadeIn 0.2s ease-out forwards;
}

/* Apple-style touch feedback */
@media (max-width: 1023px) {
  .active\:scale-90:active {
    transform: scale(0.9);
  }

  * {
    -webkit-tap-highlight-color: transparent;
  }

  /* Ã‰vite le zoom auto iOS sur les inputs */
  input,
  textarea,
  select {
    font-size: 16px !important;
  }

  /* Rien ne dÃ©borde horizontalement */
  html,
  body,
  #root {
    overflow-x: hidden;
    max-width: 100vw;
  }

  /* Scrollbars invisibles sur mobile */
  ::-webkit-scrollbar {
    display: none;
  }

  * {
    scrollbar-width: none;
  }

  /* Zone tactile min 44px â€” SEULEMENT pour les boutons/liens principaux de navigation.
     Les badges, indicateurs, liens inline et petits Ã©lÃ©ments sont exclus. */
  nav button,
  nav a,
  header button,
  header a,
  .ecom-mobile-button {
    min-height: 44px;
    min-width: 44px;
  }

  /* Exclure les petits Ã©lÃ©ments du min-size 44px */
  .rounded-full[class*="w-2"],
  .rounded-full[class*="w-3"],
  .rounded-full[class*="h-2"],
  .rounded-full[class*="h-3"],
  span.rounded-full,
  [class*="text-\\[10px\\]"],
  [class*="text-\\[9px\\]"],
  [class*="text-\\[11px\\]"] {
    min-height: unset !important;
    min-width: unset !important;
  }

  /* Texte ne dÃ©borde jamais */
  p,
  span,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  td,
  th,
  li {
    word-break: break-word;
    overflow-wrap: break-word;
  }

  /* Images et mÃ©dias ne dÃ©bordent jamais */
  img,
  video,
  iframe,
  svg {
    max-width: 100%;
    height: auto;
  }

  /* Tables scrollables horizontalement sur mobile */
  table {
    display: block;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ğŸ”’ FIX: Cercles qui deviennent ovales
     Les cercles (rounded-full) doivent garder leur forme
     MAIS les pills/badges (px-2, px-3 etc.) doivent rester en pill
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

  /* Seuls les vrais cercles (w=h, pas de padding horizontal) gardent le ratio */
  [class*="w-6"][class*="h-6"].rounded-full,
  [class*="w-7"][class*="h-7"].rounded-full,
  [class*="w-8"][class*="h-8"].rounded-full,
  [class*="w-9"][class*="h-9"].rounded-full,
  [class*="w-10"][class*="h-10"].rounded-full,
  [class*="w-12"][class*="h-12"].rounded-full,
  [class*="w-14"][class*="h-14"].rounded-full,
  [class*="w-16"][class*="h-16"].rounded-full,
  [class*="w-20"][class*="h-20"].rounded-full,
  [class*="w-24"][class*="h-24"].rounded-full {
    flex-shrink: 0;
    aspect-ratio: 1 / 1;
    min-width: unset;
    min-height: unset;
  }

  /* IcÃ´nes dans les cercles : ne jamais dÃ©former */
  .rounded-full>svg,
  .rounded-full>img {
    flex-shrink: 0;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ğŸ”’ FIX: Texte qui dÃ©borde / coupe mal
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  /* Forcer la troncature sur les textes longs dans les cards */
  .truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 100%;
  }

  /* Texte multi-ligne limitÃ© (2 lignes max) */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* EmpÃªcher les labels et badges de forcer le parent Ã  grandir */
  .text-xs,
  .text-\[10px\],
  .text-\[11px\],
  .text-\[9px\] {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ğŸ”’ FIX: Grilles qui dÃ©bordent
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  /* En mobile < 400px, forcer les grids Ã  1 colonne */
  @media (max-width: 400px) {

    .grid-cols-2,
    .sm\:grid-cols-2 {
      grid-template-columns: 1fr !important;
    }

    .grid-cols-3,
    .sm\:grid-cols-3 {
      grid-template-columns: repeat(2, 1fr) !important;
    }
  }

  /* Grids Tailwind: les enfants ne dÃ©bordent pas */
  [class*="grid"]>* {
    min-width: 0;
    overflow: hidden;
  }

  /* Flex containers: les enfants ne dÃ©bordent pas */
  [class*="flex"]>* {
    min-width: 0;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ğŸ”’ FIX: KPI Cards & Stats
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  /* Valeur KPI: s'adapte Ã  la taille dispo */
  .text-2xl,
  .text-3xl,
  .text-4xl {
    font-size: clamp(1rem, 5vw, 1.875rem);
    line-height: 1.2;
  }

  /* Badges et pills ne cassent pas */
  [class*="rounded-full"][class*="px-"] {
    white-space: nowrap;
    flex-shrink: 0;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ğŸ”’ FIX: SVG icons taille fixe
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  /* Les SVG dans les boutons ne rÃ©trÃ©cissent jamais */
  button>svg,
  a>svg,
  [class*="flex"]>svg {
    flex-shrink: 0;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ğŸ”’ FIX: Containers qui dÃ©bordent
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  /* Page content container */
  main,
  section,
  article,
  .max-w-7xl,
  .max-w-6xl,
  .max-w-5xl,
  .max-w-4xl,
  .max-w-3xl {
    max-width: 100vw;
    overflow-x: hidden;
  }

  /* Cards et modals: pas plus large que l'Ã©cran */
  .rounded-2xl,
  .rounded-xl,
  .rounded-lg {
    max-width: 100%;
  }

  /* EmpÃªcher le contenu fixe de causer un scroll horizontal */
  .fixed {
    max-width: 100vw;
  }
}

/* Classes utilitaires */
.animate-spin {
  animation: spin 1s linear infinite;
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

.animate-slide-in {
  animation: slideIn 0.3s ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-down {
  animation: slideDown 0.4s ease-out;
}

/* Scrollbar personnalisÃ©e */
.ecom-app ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.ecom-app ::-webkit-scrollbar-track {
  background: var(--ecom-gray-100);
  border-radius: 4px;
}

.ecom-app ::-webkit-scrollbar-thumb {
  background: var(--ecom-gray-300);
  border-radius: 4px;
}

.ecom-app ::-webkit-scrollbar-thumb:hover {
  background: var(--ecom-gray-400);
}

/* Focus states */
.ecom-app button:focus,
.ecom-app input:focus,
.ecom-app select:focus,
.ecom-app textarea:focus {
  outline: 2px solid var(--ecom-primary);
  outline-offset: 2px;
}

/* Boutons principaux */
.ecom-btn-primary {
  background-color: var(--ecom-primary);
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 0.375rem;
  font-weight: 500;
  transition: all 0.2s;
}

.ecom-btn-primary:hover {
  background-color: var(--ecom-primary-dark);
}

.ecom-btn-primary:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Cartes */
.ecom-card {
  background: white;
  border-radius: 0.5rem;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  transition: box-shadow 0.2s;
}

.ecom-card:hover {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

/* Badges de statut */
.ecom-badge {
  display: inline-flex;
  align-items: center;
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.ecom-badge-test {
  background-color: #fef3c7;
  color: #92400e;
}

.ecom-badge-stable {
  background-color: #dbeafe;
  color: #1e40af;
}

.ecom-badge-winner {
  background-color: #d1fae5;
  color: #065f46;
}

.ecom-badge-pause {
  background-color: #fed7aa;
  color: #9a3412;
}

.ecom-badge-stop {
  background-color: #fee2e2;
  color: #991b1b;
}

/* Alertes */
.ecom-alert {
  padding: 0.75rem 1rem;
  border-radius: 0.375rem;
  margin-bottom: 1rem;
  border-left: 4px solid;
}

.ecom-alert-success {
  background-color: #f0fdf4;
  border-color: var(--ecom-success);
  color: #166534;
}

.ecom-alert-warning {
  background-color: #fffbeb;
  border-color: var(--ecom-warning);
  color: #92400e;
}

.ecom-alert-danger {
  background-color: #fef2f2;
  border-color: var(--ecom-danger);
  color: #991b1b;
}

.ecom-alert-info {
  background-color: #eff6ff;
  border-color: var(--ecom-info);
  color: #1e40af;
}

/* Tables */
.ecom-table {
  width: 100%;
  border-collapse: collapse;
  background: white;
}

.ecom-table th,
.ecom-table td {
  padding: 0.75rem;
  text-align: left;
  border-bottom: 1px solid var(--ecom-gray-200);
}

.ecom-table th {
  background-color: var(--ecom-gray-50);
  font-weight: 600;
  color: var(--ecom-gray-700);
}

.ecom-table tbody tr:hover {
  background-color: var(--ecom-gray-50);
}

/* Formulaires */
.ecom-form-group {
  margin-bottom: 1rem;
}

.ecom-form-label {
  display: block;
  margin-bottom: 0.25rem;
  font-weight: 500;
  color: var(--ecom-gray-700);
}

.ecom-form-input,
.ecom-form-select,
.ecom-form-textarea {
  width: 100%;
  padding: 0.5rem 0.75rem;
  border: 1px solid var(--ecom-gray-300);
  border-radius: 0.375rem;
  background-color: white;
  transition: border-color 0.2s;
}

.ecom-form-input:focus,
.ecom-form-select:focus,
.ecom-form-textarea:focus {
  border-color: var(--ecom-primary);
  outline: none;
}

.ecom-form-input.error,
.ecom-form-select.error,
.ecom-form-textarea.error {
  border-color: var(--ecom-danger);
}

.ecom-form-error {
  color: var(--ecom-danger);
  font-size: 0.875rem;
  margin-top: 0.25rem;
}

/* Loading states */
.ecom-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem;
}

.ecom-loading-spinner {
  width: 2rem;
  height: 2rem;
  border: 2px solid var(--ecom-gray-200);
  border-top: 2px solid var(--ecom-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

/* Responsive */
@media (max-width: 768px) {
  .ecom-app {
    font-size: 0.875rem;
  }

  .ecom-card {
    margin: 0.5rem;
  }

  .ecom-table {
    font-size: 0.75rem;
  }

  .ecom-table th,
  .ecom-table td {
    padding: 0.5rem;
  }
}

/* Print styles */
@media print {
  .ecom-app {
    background: white !important;
  }

  .ecom-btn-primary,
  .ecom-loading {
    display: none !important;
  }

  .ecom-card {
    box-shadow: none !important;
    border: 1px solid var(--ecom-gray-300) !important;
  }
}